viash_version: 0.9.0

name: task_spatial_decomposition
organization: openproblems-bio
version: dev

license: MIT
keywords: [single-cell, openproblems, benchmark, spatial decomposition]
links:
  issue_tracker: https://github.com/openproblems-bio/task_spatial_decomposition/issues
  repository: https://github.com/openproblems-bio/task_spatial_decomposition
  docker_registry: ghcr.io

label: Spatial Decomposition
summary: Estimation of cell type proportions per spot in 2D space from spatial transcriptomic data coupled with corresponding single-cell data
description: | 
  Spatial decomposition (also often referred to as Spatial deconvolution) is applicable to spatial transcriptomics data where the transcription profile of each capture location (spot, voxel, bead, etc.) do not share a bijective relationship with the cells in the tissue, i.e., multiple cells may contribute to the same capture location. The task of spatial decomposition then refers to estimating the composition of cell types/states that are present at each capture location. The cell type/states estimates are presented as proportion values, representing the proportion of the cells at each capture location that belong to a given cell type.

  We distinguish between _reference-based_ decomposition and _de novo_ decomposition, where the former leverage external data (e.g., scRNA-seq or scNuc-seq) to guide the inference process, while the latter only work with the spatial data. We require that all datasets have an associated reference single cell data set, but methods are free to ignore this information. 

  Due to the lack of real datasets with the necessary ground-truth, this task makes use of a simulated dataset generated by creating cell-aggregates by sampling from a Dirichlet distribution. The ground-truth dataset consists of the spatial expression matrix, XY coordinates of the spots, true cell-type proportions for each spot, and the reference single-cell data (from which cell aggregated were simulated).

info:
  thumbnail: thumbnail.svg
  test_resources:
    - type: s3
      path: s3://openproblems-data/resources_test/common/cxg_mouse_pancreas_atlas/
      dest: resources_test/common/cxg_mouse_pancreas_atlas
    - type: s3
      path: s3://openproblems-data/resources_test/spatial_decomposition/
      dest: resources_test/spatial_decomposition

authors: 
  - name: "Giovanni Palla"
    roles: [author, maintainer]
    info: 
      github: giovp
  - name: "Scott Gigante"
    roles: [author]
    info: 
      github: scottgigante
      orcid: "0000-0002-4544-2764"
  - name: "Sai Nirmayi Yasa"
    roles: [contributor]
    info: 
      github: sainirmayi
      orcid: "0009-0003-6319-9803"

config_mods: |
  .runners[.type == "nextflow"].config.labels := { lowmem : "memory = 20.Gb", midmem : "memory = 50.Gb", highmem : "memory = 100.Gb", lowcpu : "cpus = 5", midcpu : "cpus = 15", highcpu : "cpus = 30", lowtime : "time = 1.h", midtime : "time = 4.h", hightime : "time = 8.h", veryhightime : "time = 24.h" }
  .runners[.type == "nextflow"].config.script := "process.errorStrategy = 'ignore'"

repositories:
  - name: core
    type: github
    repo: openproblems-bio/core
    tag: build/main
    path: viash/core
  # - name: openproblems
  #   type: github
  #   repo: openproblems-bio/openproblems
  #   tag: build/main